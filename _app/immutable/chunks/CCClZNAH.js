import"./DsnmJJEf.js";import{s as ue,a as _t,e as ki,C as bi}from"./DtQz8a1B.js";import{aa as _i,ab as Nt,ag as Mi,p as Ut,aK as we,o as Ue,l as qt,b as te,f as W,t as q,e as lt,a as E,d as ee,i as K,u as C,a8 as A,s as S,c as w,g as st,m as bt,aL as oe,r as y,j as J,aB as qe,k as ti,n as ji}from"./ClpfCMlk.js";import{i as Z,s as Ai,a as $e,b as He}from"./1vnA0olj.js";import{e as ke,i as be,s as Si,a as le}from"./ClFw4IB-.js";import{_ as Ci,p as ft,b as ei}from"./BhIxhJ9P.js";import{p as _e,i as ie}from"./pXgC58PO.js";import{g as Te}from"./QTMcdTuk.js";import{b as Le}from"./CzV8ya3X.js";var b;function ot(t,i,e){const s=typeof e,r=typeof t;if(s!=="undefined"){if(r!=="undefined"){if(e){if(r==="function"&&s===r)return function(h){return t(e(h))};if(i=t.constructor,i===e.constructor){if(i===Array)return e.concat(t);if(i===Map){var n=new Map(e);for(var o of t)n.set(o[0],o[1]);return n}if(i===Set){o=new Set(e);for(n of t.values())o.add(n);return o}}}return t}return e}return r==="undefined"?i:t}function St(t,i){return typeof t>"u"?i:t}function it(){return Object.create(null)}function ut(t){return typeof t=="string"}function Lt(t){return typeof t=="object"}function Kt(t,i){if(ut(i))t=t[i];else for(let e=0;t&&e<i.length;e++)t=t[i[e]];return t}const zi=/[^\p{L}\p{N}]+/u,Bi=/(\d{3})/g,Oi=/(\D)(\d{3})/g,Pi=/(\d{3})(\D)/g,Ke=/[\u0300-\u036f]/g;function Dt(t={}){if(!this||this.constructor!==Dt)return new Dt(...arguments);if(arguments.length)for(t=0;t<arguments.length;t++)this.assign(arguments[t]);else this.assign(t)}b=Dt.prototype;b.assign=function(t){this.normalize=ot(t.normalize,!0,this.normalize);let i=t.include,e=i||t.exclude||t.split,s;if(e||e===""){if(typeof e=="object"&&e.constructor!==RegExp){let r="";s=!i,i||(r+="\\p{Z}"),e.letter&&(r+="\\p{L}"),e.number&&(r+="\\p{N}",s=!!i),e.symbol&&(r+="\\p{S}"),e.punctuation&&(r+="\\p{P}"),e.control&&(r+="\\p{C}"),(e=e.char)&&(r+=typeof e=="object"?e.join(""):e);try{this.split=new RegExp("["+(i?"^":"")+r+"]+","u")}catch{this.split=/\s+/}}else this.split=e,s=e===!1||"a1a".split(e).length<2;this.numeric=ot(t.numeric,s)}else{try{this.split=ot(this.split,zi)}catch{this.split=/\s+/}this.numeric=ot(t.numeric,ot(this.numeric,!0))}if(this.prepare=ot(t.prepare,null,this.prepare),this.finalize=ot(t.finalize,null,this.finalize),e=t.filter,this.filter=typeof e=="function"?e:ot(e&&new Set(e),null,this.filter),this.dedupe=ot(t.dedupe,!0,this.dedupe),this.matcher=ot((e=t.matcher)&&new Map(e),null,this.matcher),this.mapper=ot((e=t.mapper)&&new Map(e),null,this.mapper),this.stemmer=ot((e=t.stemmer)&&new Map(e),null,this.stemmer),this.replacer=ot(t.replacer,null,this.replacer),this.minlength=ot(t.minlength,1,this.minlength),this.maxlength=ot(t.maxlength,1024,this.maxlength),this.rtl=ot(t.rtl,!1,this.rtl),(this.cache=e=ot(t.cache,!0,this.cache))&&(this.F=null,this.L=typeof e=="number"?e:2e5,this.B=new Map,this.D=new Map,this.I=this.H=128),this.h="",this.J=null,this.A="",this.K=null,this.matcher)for(const r of this.matcher.keys())this.h+=(this.h?"|":"")+r;if(this.stemmer)for(const r of this.stemmer.keys())this.A+=(this.A?"|":"")+r;return this};b.addStemmer=function(t,i){return this.stemmer||(this.stemmer=new Map),this.stemmer.set(t,i),this.A+=(this.A?"|":"")+t,this.K=null,this.cache&&Mt(this),this};b.addFilter=function(t){return typeof t=="function"?this.filter=t:(this.filter||(this.filter=new Set),this.filter.add(t)),this.cache&&Mt(this),this};b.addMapper=function(t,i){return typeof t=="object"?this.addReplacer(t,i):t.length>1?this.addMatcher(t,i):(this.mapper||(this.mapper=new Map),this.mapper.set(t,i),this.cache&&Mt(this),this)};b.addMatcher=function(t,i){return typeof t=="object"?this.addReplacer(t,i):t.length<2&&(this.dedupe||this.mapper)?this.addMapper(t,i):(this.matcher||(this.matcher=new Map),this.matcher.set(t,i),this.h+=(this.h?"|":"")+t,this.J=null,this.cache&&Mt(this),this)};b.addReplacer=function(t,i){return typeof t=="string"?this.addMatcher(t,i):(this.replacer||(this.replacer=[]),this.replacer.push(t,i),this.cache&&Mt(this),this)};b.encode=function(t,i){if(this.cache&&t.length<=this.H)if(this.F){if(this.B.has(t))return this.B.get(t)}else this.F=setTimeout(Mt,50,this);this.normalize&&(typeof this.normalize=="function"?t=this.normalize(t):t=Ke?t.normalize("NFKD").replace(Ke,"").toLowerCase():t.toLowerCase()),this.prepare&&(t=this.prepare(t)),this.numeric&&t.length>3&&(t=t.replace(Oi,"$1 $2").replace(Pi,"$1 $2").replace(Bi,"$1 "));const e=!(this.dedupe||this.mapper||this.filter||this.matcher||this.stemmer||this.replacer);let s=[],r=it(),n,o,h=this.split||this.split===""?t.split(this.split):[t];for(let a=0,f,u;a<h.length;a++)if((f=u=h[a])&&!(f.length<this.minlength||f.length>this.maxlength)){if(i){if(r[f])continue;r[f]=1}else{if(n===f)continue;n=f}if(e)s.push(f);else if(!this.filter||(typeof this.filter=="function"?this.filter(f):!this.filter.has(f))){if(this.cache&&f.length<=this.I)if(this.F){var l=this.D.get(f);if(l||l===""){l&&s.push(l);continue}}else this.F=setTimeout(Mt,50,this);if(this.stemmer){this.K||(this.K=new RegExp("(?!^)("+this.A+")$"));let g;for(;g!==f&&f.length>2;)g=f,f=f.replace(this.K,c=>this.stemmer.get(c))}if(f&&(this.mapper||this.dedupe&&f.length>1)){l="";for(let g=0,c="",m,d;g<f.length;g++)m=f.charAt(g),m===c&&this.dedupe||((d=this.mapper&&this.mapper.get(m))||d===""?d===c&&this.dedupe||!(c=d)||(l+=d):l+=c=m);f=l}if(this.matcher&&f.length>1&&(this.J||(this.J=new RegExp("("+this.h+")","g")),f=f.replace(this.J,g=>this.matcher.get(g))),f&&this.replacer)for(l=0;f&&l<this.replacer.length;l+=2)f=f.replace(this.replacer[l],this.replacer[l+1]);if(this.cache&&u.length<=this.I&&(this.D.set(u,f),this.D.size>this.L&&(this.D.clear(),this.I=this.I/1.1|0)),f){if(f!==u)if(i){if(r[f])continue;r[f]=1}else{if(o===f)continue;o=f}s.push(f)}}}return this.finalize&&(s=this.finalize(s)||s),this.cache&&t.length<=this.H&&(this.B.set(t,s),this.B.size>this.L&&(this.B.clear(),this.H=this.H/1.1|0)),s};function Mt(t){t.F=null,t.B.clear(),t.D.clear()}function Me(t,i,e){e||(i||typeof t!="object"?typeof i=="object"&&(e=i,i=0):e=t),e&&(t=e.query||t,i=e.limit||i);let s=""+(i||0);e&&(s+=(e.offset||0)+!!e.context+!!e.suggest+(e.resolve!==!1)+(e.resolution||this.resolution)+(e.boost||0)),t=(""+t).toLowerCase(),this.cache||(this.cache=new At);let r=this.cache.get(t+s);if(!r){const n=e&&e.cache;n&&(e.cache=!1),r=this.search(t,i,e),n&&(e.cache=n),this.cache.set(t+s,r)}return r}function At(t){this.limit=t&&t!==!0?t:1e3,this.cache=new Map,this.h=""}At.prototype.set=function(t,i){this.cache.set(this.h=t,i),this.cache.size>this.limit&&this.cache.delete(this.cache.keys().next().value)};At.prototype.get=function(t){const i=this.cache.get(t);return i&&this.h!==t&&(this.cache.delete(t),this.cache.set(this.h=t,i)),i};At.prototype.remove=function(t){for(const i of this.cache){const e=i[0];i[1].includes(t)&&this.cache.delete(e)}};At.prototype.clear=function(){this.cache.clear(),this.h=""};const De={normalize:!1,numeric:!1,dedupe:!1},Vt={},he=new Map([["b","p"],["v","f"],["w","f"],["z","s"],["x","s"],["d","t"],["n","m"],["c","k"],["g","k"],["j","k"],["q","k"],["i","e"],["y","e"],["u","o"]]),Re=new Map([["ae","a"],["oe","o"],["sh","s"],["kh","k"],["th","t"],["ph","f"],["pf","f"]]),Ne=[/([^aeo])h(.)/g,"$1$2",/([aeo])h([^aeo]|$)/g,"$1$2",/(.)\1+/g,"$1"],Ve={a:"",e:"",i:"",o:"",u:"",y:"",b:1,f:1,p:1,v:1,c:2,g:2,j:2,k:2,q:2,s:2,x:2,z:2,ÃŸ:2,d:3,t:3,l:4,m:5,n:5,r:6};var ii={Exact:De,Default:Vt,Normalize:Vt,LatinBalance:{mapper:he},LatinAdvanced:{mapper:he,matcher:Re,replacer:Ne},LatinExtra:{mapper:he,replacer:Ne.concat([/(?!^)[aeo]/g,""]),matcher:Re},LatinSoundex:{dedupe:!1,include:{letter:!0},finalize:function(t){for(let e=0;e<t.length;e++){var i=t[e];let s=i.charAt(0),r=Ve[s];for(let n=1,o;n<i.length&&(o=i.charAt(n),o==="h"||o==="w"||!(o=Ve[o])||o===r||(s+=o,r=o,s.length!==4));n++);t[e]=s}}},CJK:{split:""},LatinExact:De,LatinDefault:Vt,LatinSimple:Vt};function Ee(t,i,e,s){let r=[];for(let n=0,o;n<t.index.length;n++)if(o=t.index[n],i>=o.length)i-=o.length;else{i=o[s?"splice":"slice"](i,e);const h=i.length;if(h&&(r=r.length?r.concat(i):i,e-=h,s&&(t.length-=h),!e))break;i=0}return r}function Pt(t){if(!this||this.constructor!==Pt)return new Pt(t);this.index=t?[t]:[],this.length=t?t.length:0;const i=this;return new Proxy([],{get(e,s){if(s==="length")return i.length;if(s==="push")return function(r){i.index[i.index.length-1].push(r),i.length++};if(s==="pop")return function(){if(i.length)return i.length--,i.index[i.index.length-1].pop()};if(s==="indexOf")return function(r){let n=0;for(let o=0,h,l;o<i.index.length;o++){if(h=i.index[o],l=h.indexOf(r),l>=0)return n+l;n+=h.length}return-1};if(s==="includes")return function(r){for(let n=0;n<i.index.length;n++)if(i.index[n].includes(r))return!0;return!1};if(s==="slice")return function(r,n){return Ee(i,r||0,n||i.length,!1)};if(s==="splice")return function(r,n){return Ee(i,r||0,n||i.length,!0)};if(s==="constructor")return Array;if(typeof s!="symbol")return(e=i.index[s/2**31|0])&&e[s]},set(e,s,r){return e=s/2**31|0,(i.index[e]||(i.index[e]=[]))[s]=r,i.length++,!0}})}Pt.prototype.clear=function(){this.index.length=0};Pt.prototype.push=function(){};function ct(t=8){if(!this||this.constructor!==ct)return new ct(t);this.index=it(),this.h=[],this.size=0,t>32?(this.B=si,this.A=BigInt(t)):(this.B=ri,this.A=t)}ct.prototype.get=function(t){const i=this.index[this.B(t)];return i&&i.get(t)};ct.prototype.set=function(t,i){var e=this.B(t);let s=this.index[e];s?(e=s.size,s.set(t,i),(e-=s.size)&&this.size++):(this.index[e]=s=new Map([[t,i]]),this.h.push(s),this.size++)};function dt(t=8){if(!this||this.constructor!==dt)return new dt(t);this.index=it(),this.h=[],this.size=0,t>32?(this.B=si,this.A=BigInt(t)):(this.B=ri,this.A=t)}dt.prototype.add=function(t){var i=this.B(t);let e=this.index[i];e?(i=e.size,e.add(t),(i-=e.size)&&this.size++):(this.index[i]=e=new Set([t]),this.h.push(e),this.size++)};b=ct.prototype;b.has=dt.prototype.has=function(t){const i=this.index[this.B(t)];return i&&i.has(t)};b.delete=dt.prototype.delete=function(t){const i=this.index[this.B(t)];i&&i.delete(t)&&this.size--};b.clear=dt.prototype.clear=function(){this.index=it(),this.h=[],this.size=0};b.values=dt.prototype.values=function*(){for(let t=0;t<this.h.length;t++)for(let i of this.h[t].values())yield i};b.keys=dt.prototype.keys=function*(){for(let t=0;t<this.h.length;t++)for(let i of this.h[t].keys())yield i};b.entries=dt.prototype.entries=function*(){for(let t=0;t<this.h.length;t++)for(let i of this.h[t].entries())yield i};function ri(t){let i=2**this.A-1;if(typeof t=="number")return t&i;let e=0,s=this.A+1;for(let r=0;r<t.length;r++)e=(e*s^t.charCodeAt(r))&i;return this.A===32?e+2**31:e}function si(t){let i=BigInt(2)**this.A-BigInt(1);var e=typeof t;if(e==="bigint")return t&i;if(e==="number")return BigInt(t)&i;e=BigInt(0);let s=this.A+BigInt(1);for(let r=0;r<t.length;r++)e=(e*s^BigInt(t.charCodeAt(r)))&i;return e}let Ct,Ht;async function Ii(t){t=t.data;var i=t.task;const e=t.id;let s=t.args;switch(i){case"init":Ht=t.options||{},(i=t.factory)?(Function("return "+i)()(self),Ct=new self.FlexSearch.Index(Ht),delete self.FlexSearch):Ct=new pt(Ht),postMessage({id:e});break;default:let r;i==="export"&&(s[1]?(s[0]=Ht.export,s[2]=0,s[3]=1):s=null),i==="import"?s[0]&&(t=await Ht.import.call(Ct,s[0]),Ct.import(s[0],t)):((r=s&&Ct[i].apply(Ct,s))&&r.then&&(r=await r),r&&r.await&&(r=await r.await),i==="search"&&r.result&&(r=r.result)),postMessage(i==="search"?{id:e,msg:r}:{id:e})}}function je(t){zt.call(t,"add"),zt.call(t,"append"),zt.call(t,"search"),zt.call(t,"update"),zt.call(t,"remove"),zt.call(t,"searchCache")}let ce,We,Jt;function $i(){ce=Jt=0}function zt(t){this[t+"Async"]=function(){const i=arguments;var e=i[i.length-1];let s;if(typeof e=="function"&&(s=e,delete i[i.length-1]),ce?Jt||(Jt=Date.now()-We>=this.priority*this.priority*3):(ce=setTimeout($i,0),We=Date.now()),Jt){const n=this;return new Promise(o=>{setTimeout(function(){o(n[t+"Async"].apply(n,i))},0)})}const r=this[t].apply(this,i);return e=r.then?r:new Promise(n=>n(r)),s&&e.then(s),e}}let vt=0;function It(t={},i){function e(h){function l(a){a=a.data||a;const f=a.id,u=f&&n.h[f];u&&(u(a.msg),delete n.h[f])}if(this.worker=h,this.h=it(),this.worker)return r?this.worker.on("message",l):this.worker.onmessage=l,t.config?new Promise(function(a){vt>1e9&&(vt=0),n.h[++vt]=function(){a(n)},n.worker.postMessage({id:vt,task:"init",factory:s,options:t})}):(this.priority=t.priority||4,this.encoder=i||null,this.worker.postMessage({task:"init",factory:s,options:t}),this)}if(!this||this.constructor!==It)return new It(t);let s=typeof self<"u"?self._factory:typeof window<"u"?window._factory:null;s&&(s=s.toString());const r=typeof window>"u",n=this,o=Hi(s,r,t.worker);return o.then?o.then(function(h){return e.call(n,h)}):e.call(this,o)}xt("add");xt("append");xt("search");xt("update");xt("remove");xt("clear");xt("export");xt("import");It.prototype.searchCache=Me;je(It.prototype);function xt(t){It.prototype[t]=function(){const i=this,e=[].slice.call(arguments);var s=e[e.length-1];let r;return typeof s=="function"&&(r=s,e.pop()),s=new Promise(function(n){t==="export"&&typeof e[0]=="function"&&(e[0]=null),vt>1e9&&(vt=0),i.h[++vt]=n,i.worker.postMessage({task:t,id:vt,args:e})}),r?(s.then(r),this):s}}function Hi(t,i,e){return i?typeof module<"u"?new(require("worker_threads")).Worker(__dirname+"/worker/node.js"):Ci(()=>import("./BIHI7g3E.js"),[],import.meta.url).then(function(s){return new s.Worker(import.meta.dirname+"/node/node.mjs")}):t?new window.Worker(URL.createObjectURL(new Blob(["onmessage="+Ii.toString()],{type:"text/javascript"}))):new window.Worker(typeof e=="string"?e:import.meta.url.replace("/worker.js","/worker/worker.js").replace("flexsearch.bundle.module.min.js","module/worker/worker.js").replace("flexsearch.bundle.module.min.mjs","module/worker/worker.js"),{type:"module"})}jt.prototype.add=function(t,i,e){if(Lt(t)&&(i=t,t=Kt(i,this.key)),i&&(t||t===0)){if(!e&&this.reg.has(t))return this.update(t,i);for(let h=0,l;h<this.field.length;h++){l=this.B[h];var s=this.index.get(this.field[h]);if(typeof l=="function"){var r=l(i);r&&s.add(t,r,e,!0)}else r=l.G,(!r||r(i))&&(l.constructor===String?l=[""+l]:ut(l)&&(l=[l]),pe(i,l,this.D,0,s,t,l[0],e))}if(this.tag)for(s=0;s<this.A.length;s++){var n=this.A[s];r=this.tag.get(this.F[s]);let h=it();if(typeof n=="function"){if(n=n(i),!n)continue}else{var o=n.G;if(o&&!o(i))continue;n.constructor===String&&(n=""+n),n=Kt(i,n)}if(r&&n){ut(n)&&(n=[n]);for(let l=0,a,f;l<n.length;l++)if(a=n[l],!h[a]&&(h[a]=1,(o=r.get(a))?f=o:r.set(a,f=[]),!e||!f.includes(t))){if(f.length===2**31-1){if(o=new Pt(f),this.fastupdate)for(let u of this.reg.values())u.includes(f)&&(u[u.indexOf(f)]=o);r.set(a,f=o)}f.push(t),this.fastupdate&&((o=this.reg.get(t))?o.push(f):this.reg.set(t,[f]))}}}if(this.store&&(!e||!this.store.has(t))){let h;if(this.h){h=it();for(let l=0,a;l<this.h.length;l++){if(a=this.h[l],(e=a.G)&&!e(i))continue;let f;if(typeof a=="function"){if(f=a(i),!f)continue;a=[a.O]}else if(ut(a)||a.constructor===String){h[a]=i[a];continue}de(i,h,a,0,a[0],f)}}this.store.set(t,h||i)}this.worker&&(this.fastupdate||this.reg.add(t))}return this};function de(t,i,e,s,r,n){if(t=t[r],s===e.length-1)i[r]=n||t;else if(t)if(t.constructor===Array)for(i=i[r]=Array(t.length),r=0;r<t.length;r++)de(t,i,e,s,r);else i=i[r]||(i[r]=it()),r=e[++s],de(t,i,e,s,r)}function pe(t,i,e,s,r,n,o,h){if(t=t[o])if(s===i.length-1){if(t.constructor===Array){if(e[s]){for(i=0;i<t.length;i++)r.add(n,t[i],!0,!0);return}t=t.join(" ")}r.add(n,t,h,!0)}else if(t.constructor===Array)for(o=0;o<t.length;o++)pe(t,i,e,s,r,n,o,h);else o=i[++s],pe(t,i,e,s,r,n,o,h)}function Ae(t,i,e,s){if(!t.length)return t;if(t.length===1)return t=t[0],t=e||t.length>i?t.slice(e,e+i):t,s?Bt.call(this,t):t;let r=[];for(let n=0,o,h;n<t.length;n++)if((o=t[n])&&(h=o.length)){if(e){if(e>=h){e-=h;continue}o=o.slice(e,e+i),h=o.length,e=0}if(h>i&&(o=o.slice(0,i),h=i),!r.length&&h>=i)return s?Bt.call(this,o):o;if(r.push(o),i-=h,!i)break}return r=r.length>1?[].concat.apply([],r):r[0],s?Bt.call(this,r):r}function re(t,i,e,s){var r=s[0];if(r[0]&&r[0].query)return t[i].apply(t,r);if(!(i!=="and"&&i!=="not"||t.result.length||t.await||r.suggest))return s.length>1&&(r=s[s.length-1]),(s=r.resolve)?t.await||t.result:t;let n=[],o=0,h=0,l,a,f,u,g;for(i=0;i<s.length;i++)if(r=s[i]){var c=void 0;if(r.constructor===tt)c=r.await||r.result;else if(r.then||r.constructor===Array)c=r;else{o=r.limit||0,h=r.offset||0,f=r.suggest,a=r.resolve,l=((u=r.highlight||t.highlight)||r.enrich)&&a,c=r.queue;let m=r.async||c,d=r.index,p=r.query;if(d?t.index||(t.index=d):d=t.index,p||r.tag){const x=r.field||r.pluck;if(x&&(!p||t.query&&!u||(t.query=p,t.field=x,t.highlight=u),d=d.index.get(x)),c&&(g||t.await)){g=1;let v;const _=t.C.length,P=new Promise(function(T){v=T});(function(T,z){P.h=function(){z.index=null,z.resolve=!1;let B=m?T.searchAsync(z):T.search(z);return B.then?B.then(function(M){return t.C[_]=M=M.result||M,v(M),M}):(B=B.result||B,v(B),B)}})(d,Object.assign({},r)),t.C.push(P),n[i]=P;continue}else r.resolve=!1,r.index=null,c=m?d.searchAsync(r):d.search(r),r.resolve=a,r.index=d}else if(r.and)c=Et(r,"and",d);else if(r.or)c=Et(r,"or",d);else if(r.not)c=Et(r,"not",d);else if(r.xor)c=Et(r,"xor",d);else continue}c.await?(g=1,c=c.await):c.then?(g=1,c=c.then(function(m){return m.result||m})):c=c.result||c,n[i]=c}if(g&&!t.await&&(t.await=new Promise(function(m){t.return=m})),g){const m=Promise.all(n).then(function(d){for(let p=0;p<t.C.length;p++)if(t.C[p]===m){t.C[p]=function(){return e.call(t,d,o,h,l,a,f,u)};break}Se(t)});t.C.push(m)}else if(t.await)t.C.push(function(){return e.call(t,n,o,h,l,a,f,u)});else return e.call(t,n,o,h,l,a,f,u);return a?t.await||t.result:t}function Et(t,i,e){t=t[i];const s=t[0]||t;return s.index||(s.index=e),e=new tt(s),t.length>1&&(e=e[i].apply(e,t.slice(1))),e}tt.prototype.or=function(){return re(this,"or",Ti,arguments)};function Ti(t,i,e,s,r,n,o){return t.length&&(this.result.length&&t.push(this.result),t.length<2?this.result=t[0]:(this.result=ni(t,i,e,!1,this.h),e=0)),r&&(this.await=null),r?this.resolve(i,e,s,o):this}tt.prototype.and=function(){return re(this,"and",Li,arguments)};function Li(t,i,e,s,r,n,o){if(!n&&!this.result.length)return r?this.result:this;let h;if(t.length)if(this.result.length&&t.unshift(this.result),t.length<2)this.result=t[0];else{let l=0;for(let a=0,f,u;a<t.length;a++)if((f=t[a])&&(u=f.length))l<u&&(l=u);else if(!n){l=0;break}l?(this.result=Yt(t,l,i,e,n,this.h,r),h=!0):this.result=[]}else n||(this.result=t);return r&&(this.await=null),r?this.resolve(i,e,s,o,h):this}tt.prototype.xor=function(){return re(this,"xor",Ki,arguments)};function Ki(t,i,e,s,r,n,o){if(t.length)if(this.result.length&&t.unshift(this.result),t.length<2)this.result=t[0];else{t:{n=e;var h=this.h;const l=[],a=it();let f=0;for(let u=0,g;u<t.length;u++)if(g=t[u]){f<g.length&&(f=g.length);for(let c=0,m;c<g.length;c++)if(m=g[c])for(let d=0,p;d<m.length;d++)p=m[d],a[p]=a[p]?2:1}for(let u=0,g,c=0;u<f;u++)for(let m=0,d;m<t.length;m++)if((d=t[m])&&(g=d[u])){for(let p=0,x;p<g.length;p++)if(x=g[p],a[x]===1)if(n)n--;else if(r){if(l.push(x),l.length===i){t=l;break t}}else{const v=u+(m?h:0);if(l[v]||(l[v]=[]),l[v].push(x),++c===i){t=l;break t}}}t=l}this.result=t,h=!0}else n||(this.result=t);return r&&(this.await=null),r?this.resolve(i,e,s,o,h):this}tt.prototype.not=function(){return re(this,"not",Di,arguments)};function Di(t,i,e,s,r,n,o){if(!n&&!this.result.length)return r?this.result:this;if(t.length&&this.result.length){t:{n=e;var h=[];t=new Set(t.flat().flat());for(let l=0,a,f=0;l<this.result.length;l++)if(a=this.result[l]){for(let u=0,g;u<a.length;u++)if(g=a[u],!t.has(g)){if(n)n--;else if(r){if(h.push(g),h.length===i){t=h;break t}}else if(h[l]||(h[l]=[]),h[l].push(g),++f===i){t=h;break t}}}t=h}this.result=t,h=!0}return r&&(this.await=null),r?this.resolve(i,e,s,o,h):this}function Ft(t,i,e,s,r){let n,o,h;typeof r=="string"?(n=r,r=""):n=r.template,o=n.indexOf("$1"),h=n.substring(o+2),o=n.substring(0,o);let l=r&&r.boundary,a=!r||r.clip!==!1,f=r&&r.merge&&h&&o&&new RegExp(h+" "+o,"g");r=r&&r.ellipsis;var u=0;if(typeof r=="object"){var g=r.template;u=g.length-2,r=r.pattern}typeof r!="string"&&(r=r===!1?"":"..."),u&&(r=g.replace("$1",r)),g=r.length-u;let c,m;typeof l=="object"&&(c=l.before,c===0&&(c=-1),m=l.after,m===0&&(m=-1),l=l.total||9e5),u=new Map;for(let rt=0,et,ht,nt;rt<i.length;rt++){let j;if(s)j=i,nt=s;else{var d=i[rt];if(nt=d.field,!nt)continue;j=d.result}ht=e.get(nt),et=ht.encoder,d=u.get(et),typeof d!="string"&&(d=et.encode(t),u.set(et,d));for(let V=0;V<j.length;V++){var p=j[V].doc;if(!p||(p=Kt(p,nt),!p))continue;var x=p.trim().split(/\s+/);if(!x.length)continue;p="";var v=[];let G=[];for(var _=-1,P=-1,T=0,z=0;z<x.length;z++){var B=x[z],M=et.encode(B);M=M.length>1?M.join(" "):M[0];let k;if(M&&B){for(var O=B.length,D=(et.split?B.replace(et.split,""):B).length-M.length,L="",F=0,X=0;X<d.length;X++){var Q=d[X];if(Q){var N=Q.length;N+=D<0?0:D,F&&N<=F||(Q=M.indexOf(Q),Q>-1&&(L=(Q?B.substring(0,Q):"")+o+B.substring(Q,Q+N)+h+(Q+N<O?B.substring(Q+N):""),F=N,k=!0))}}L&&(l&&(_<0&&(_=p.length+(p?1:0)),P=p.length+(p?1:0)+L.length,T+=O,G.push(v.length),v.push({match:L})),p+=(p?" ":"")+L)}if(!k)B=x[z],p+=(p?" ":"")+B,l&&v.push({text:B});else if(l&&T>=l)break}if(T=G.length*(n.length-2),c||m||l&&p.length-T>l)if(T=l+T-g*2,z=P-_,c>0&&(z+=c),m>0&&(z+=m),z<=T)x=c?_-(c>0?c:0):_-((T-z)/2|0),v=m?P+(m>0?m:0):x+T,a||(x>0&&p.charAt(x)!==" "&&p.charAt(x-1)!==" "&&(x=p.indexOf(" ",x),x<0&&(x=0)),v<p.length&&p.charAt(v-1)!==" "&&p.charAt(v)!==" "&&(v=p.lastIndexOf(" ",v),v<P?v=P:++v)),p=(x?r:"")+p.substring(x,v)+(v<p.length?r:"");else{for(P=[],_={},T={},z={},B={},M={},L=D=O=0,X=F=1;;){var H=void 0;for(let k=0,Y;k<G.length;k++){if(Y=G[k],L)if(D!==L){if(z[k+1])continue;if(Y+=L,_[Y]){O-=g,T[k+1]=1,z[k+1]=1;continue}if(Y>=v.length-1){if(Y>=v.length){z[k+1]=1,Y>=x.length&&(T[k+1]=1);continue}O-=g}if(p=v[Y].text,N=m&&M[k])if(N>0){if(p.length>N)if(z[k+1]=1,a)p=p.substring(0,N);else continue;(N-=p.length)||(N=-1),M[k]=N}else{z[k+1]=1;continue}if(O+p.length+1<=l)p=" "+p,P[k]+=p;else if(a)H=l-O-1,H>0&&(p=" "+p.substring(0,H),P[k]+=p),z[k+1]=1;else{z[k+1]=1;continue}}else{if(z[k])continue;if(Y-=D,_[Y]){O-=g,z[k]=1,T[k]=1;continue}if(Y<=0){if(Y<0){z[k]=1,T[k]=1;continue}O-=g}if(p=v[Y].text,N=c&&B[k])if(N>0){if(p.length>N)if(z[k]=1,a)p=p.substring(p.length-N);else continue;(N-=p.length)||(N=-1),B[k]=N}else{z[k]=1;continue}if(O+p.length+1<=l)p+=" ",P[k]=p+P[k];else if(a)H=p.length+1-(l-O),H>=0&&H<p.length&&(p=p.substring(H)+" ",P[k]=p+P[k]),z[k]=1;else{z[k]=1;continue}}else{p=v[Y].match,c&&(B[k]=c),m&&(M[k]=m),k&&O++;let at;if(Y?!k&&g&&(O+=g):(T[k]=1,z[k]=1),Y>=x.length-1||Y<v.length-1&&v[Y+1].match?at=1:g&&(O+=g),O-=n.length-2,!k||O+p.length<=l)P[k]=p;else{H=F=X=T[k]=0;break}at&&(T[k+1]=1,z[k+1]=1)}O+=p.length,H=_[Y]=1}if(H)D===L?L++:D++;else{if(D===L?F=0:X=0,!F&&!X)break;F?(D++,L=D):L++}}p="";for(let k=0,Y;k<P.length;k++)Y=(T[k]?k?" ":"":(k&&!r?" ":"")+r)+P[k],p+=Y;r&&!T[P.length]&&(p+=r)}f&&(p=p.replace(f," ")),j[V].highlight=p}if(s)break}return i}function tt(t,i){if(!this||this.constructor!==tt)return new tt(t,i);let e=0,s,r,n,o,h,l;if(t&&t.index){const a=t;if(i=a.index,e=a.boost||0,r=a.query){n=a.field||a.pluck,o=a.highlight;const f=a.resolve;t=a.async||a.queue,a.resolve=!1,a.index=null,t=t?i.searchAsync(a):i.search(a),a.resolve=f,a.index=i,t=t.result||t}else t=[]}if(t&&t.then){const a=this;t=t.then(function(f){a.C[0]=a.result=f.result||f,Se(a)}),s=[t],t=[],h=new Promise(function(f){l=f})}this.index=i||null,this.result=t||[],this.h=e,this.C=s||[],this.await=h||null,this.return=l||null,this.highlight=o||null,this.query=r||"",this.field=n||""}b=tt.prototype;b.limit=function(t){if(this.await){const i=this;this.C.push(function(){return i.limit(t).result})}else if(this.result.length){const i=[];for(let e=0,s;e<this.result.length;e++)if(s=this.result[e])if(s.length<=t){if(i[e]=s,t-=s.length,!t)break}else{i[e]=s.slice(0,t);break}this.result=i}return this};b.offset=function(t){if(this.await){const i=this;this.C.push(function(){return i.offset(t).result})}else if(this.result.length){const i=[];for(let e=0,s;e<this.result.length;e++)(s=this.result[e])&&(s.length<=t?t-=s.length:(i[e]=s.slice(t),t=0));this.result=i}return this};b.boost=function(t){if(this.await){const i=this;this.C.push(function(){return i.boost(t).result})}else this.h+=t;return this};function Se(t,i){let e=t.result;var s=t.await;t.await=null;for(let r=0,n;r<t.C.length;r++)if(n=t.C[r]){if(typeof n=="function")e=n(),t.C[r]=e=e.result||e,r--;else if(n.h)e=n.h(),t.C[r]=e=e.result||e,r--;else if(n.then)return t.await=s}return s=t.return,t.C=[],t.return=null,i||s(e),e}b.resolve=function(t,i,e,s,r){let n=this.await?Se(this,!0):this.result;if(n.then){const o=this;return n.then(function(){return o.resolve(t,i,e,s,r)})}return n.length&&(typeof t=="object"?(s=t.highlight||this.highlight,e=!!s||t.enrich,i=t.offset,t=t.limit):(s=s||this.highlight,e=!!s||e),n=r?e?Bt.call(this.index,n):n:Ae.call(this.index,n,t||100,i,e)),this.finalize(n,s)};b.finalize=function(t,i){if(t.then){const s=this;return t.then(function(r){return s.finalize(r,i)})}i&&t.length&&this.query&&(t=Ft(this.query,t,this.index.index,this.field,i));const e=this.return;return this.highlight=this.index=this.result=this.C=this.await=this.return=null,this.query=this.field="",e&&e(t),t};function Yt(t,i,e,s,r,n,o){const h=t.length;let l=[],a,f;a=it();for(let u=0,g,c,m,d;u<i;u++)for(let p=0;p<h;p++)if(m=t[p],u<m.length&&(g=m[u]))for(let x=0;x<g.length;x++){if(c=g[x],(f=a[c])?a[c]++:(f=0,a[c]=1),d=l[f]||(l[f]=[]),!o){let v=u+(p||!r?0:n||0);d=d[v]||(d[v]=[])}if(d.push(c),o&&e&&f===h-1&&d.length-s===e)return s?d.slice(s):d}if(t=l.length)if(r)l=l.length>1?ni(l,e,s,o,n):(l=l[0])&&e&&l.length>e||s?l.slice(s,e+s):l;else{if(t<h)return[];if(l=l[t-1],e||s)if(o)(l.length>e||s)&&(l=l.slice(s,e+s));else{r=[];for(let u=0,g;u<l.length;u++)if(g=l[u]){if(s&&g.length>s)s-=g.length;else if((e&&g.length>e||s)&&(g=g.slice(s,e+s),e-=g.length,s&&(s-=g.length)),r.push(g),!e)break}l=r}}return l}function ni(t,i,e,s,r){const n=[],o=it();let h;var l=t.length;let a;if(s){for(r=l-1;r>=0;r--)if(a=(s=t[r])&&s.length){for(l=0;l<a;l++)if(h=s[l],!o[h]){if(o[h]=1,e)e--;else if(n.push(h),n.length===i)return n}}}else for(let f=l-1,u,g=0;f>=0;f--){u=t[f];for(let c=0;c<u.length;c++)if(a=(s=u[c])&&s.length){for(let m=0;m<a;m++)if(h=s[m],!o[h])if(o[h]=1,e)e--;else{let d=(c+(f<l-1&&r||0))/(f+1)|0;if((n[d]||(n[d]=[])).push(h),++g===i)return n}}}return n}function Ri(t,i,e,s,r){const n=it(),o=[];for(let h=0,l;h<i.length;h++){l=i[h];for(let a=0;a<l.length;a++)n[l[a]]=1}if(r){for(let h=0,l;h<t.length;h++)if(l=t[h],n[l]){if(s)s--;else if(o.push(l),n[l]=0,e&&--e===0)break}}else for(let h=0,l,a;h<t.result.length;h++)for(l=t.result[h],i=0;i<l.length;i++)a=l[i],n[a]&&((o[h]||(o[h]=[])).push(a),n[a]=0);return o}jt.prototype.search=function(t,i,e,s){e||(!i&&Lt(t)?(e=t,t=""):Lt(i)&&(e=i,i=0));let r=[];var n=[];let o,h,l,a,f,u,g=0,c=!0,m;if(e){e.constructor===Array&&(e={index:e}),t=e.query||t,o=e.pluck,h=e.merge,a=e.boost,u=o||e.field||(u=e.index)&&(u.index?null:u);var d=this.tag&&e.tag;l=e.suggest,c=e.resolve!==!1,f=e.cache,m=c&&this.store&&e.highlight;var p=!!m||c&&this.store&&e.enrich;i=e.limit||i;var x=e.offset||0;if(i||(i=c?100:0),d&&(!this.db||!s)){d.constructor!==Array&&(d=[d]);var v=[];for(let B=0,M;B<d.length;B++)if(M=d[B],M.field&&M.tag){var _=M.tag;if(_.constructor===Array)for(var P=0;P<_.length;P++)v.push(M.field,_[P]);else v.push(M.field,_)}else{_=Object.keys(M);for(let O=0,D,L;O<_.length;O++)if(D=_[O],L=M[D],L.constructor===Array)for(P=0;P<L.length;P++)v.push(D,L[P]);else v.push(D,L)}if(d=v,!t){if(n=[],v.length)for(d=0;d<v.length;d+=2){if(this.db){if(s=this.index.get(v[d]),!s)continue;n.push(s=s.db.tag(v[d+1],i,x,p))}else s=Ni.call(this,v[d],v[d+1],i,x,p);r.push(c?{field:v[d],tag:v[d+1],result:s}:[s])}if(n.length){const B=this;return Promise.all(n).then(function(M){for(let O=0;O<M.length;O++)c?r[O].result=M[O]:r[O]=M[O];return c?r:new tt(r.length>1?Yt(r,1,0,0,l,a):r[0],B)})}return c?r:new tt(r.length>1?Yt(r,1,0,0,l,a):r[0],this)}}c||o||!(u=u||this.field)||(ut(u)?o=u:(u.constructor===Array&&u.length===1&&(u=u[0]),o=u.field||u.index)),u&&u.constructor!==Array&&(u=[u])}u||(u=this.field);let T;v=(this.worker||this.db)&&!s&&[];for(let B=0,M,O,D;B<u.length;B++){if(O=u[B],this.db&&this.tag&&!this.B[B])continue;let L;if(ut(O)||(L=O,O=L.field,t=L.query||t,i=St(L.limit,i),x=St(L.offset,x),l=St(L.suggest,l),m=c&&this.store&&St(L.highlight,m),p=!!m||c&&this.store&&St(L.enrich,p),f=St(L.cache,f)),s)M=s[B];else{_=L||e||{},P=_.enrich;var z=this.index.get(O);if(d&&(this.db&&(_.tag=d,_.field=u,T=z.db.support_tag_search),!T&&P&&(_.enrich=!1),T||(_.limit=0,_.offset=0)),M=f?z.searchCache(t,d&&!T?0:i,_):z.search(t,d&&!T?0:i,_),d&&!T&&(_.limit=i,_.offset=x),P&&(_.enrich=P),v){v[B]=M;continue}}if(D=(M=M.result||M)&&M.length,d&&D){if(_=[],P=0,this.db&&s){if(!T)for(z=u.length;z<s.length;z++){let F=s[z];if(F&&F.length)P++,_.push(F);else if(!l)return c?r:new tt(r,this)}}else for(let F=0,X,Q;F<d.length;F+=2){if(X=this.tag.get(d[F]),!X){if(l)continue;return c?r:new tt(r,this)}if(Q=(X=X&&X.get(d[F+1]))&&X.length)P++,_.push(X);else if(!l)return c?r:new tt(r,this)}if(P){if(M=Ri(M,_,i,x,c),D=M.length,!D&&!l)return c?M:new tt(M,this);P--}}if(D)n[g]=O,r.push(M),g++;else if(u.length===1)return c?r:new tt(r,this)}if(v){if(this.db&&d&&d.length&&!T)for(p=0;p<d.length;p+=2){if(n=this.index.get(d[p]),!n){if(l)continue;return c?r:new tt(r,this)}v.push(n.db.tag(d[p+1],i,x,!1))}const B=this;return Promise.all(v).then(function(M){return e&&(e.resolve=c),M.length&&(M=B.search(t,i,e,M)),M})}if(!g)return c?r:new tt(r,this);if(o&&(!p||!this.store))return r=r[0],c?r:new tt(r,this);for(v=[],x=0;x<n.length;x++){if(d=r[x],p&&d.length&&typeof d[0].doc>"u"&&(this.db?v.push(d=this.index.get(this.field[0]).db.enrich(d)):d=Bt.call(this,d)),o)return c?m?Ft(t,d,this.index,o,m):d:new tt(d,this);r[x]={field:n[x],result:d}}if(p&&this.db&&v.length){const B=this;return Promise.all(v).then(function(M){for(let O=0;O<M.length;O++)r[O].result=M[O];return m&&(r=Ft(t,r,B.index,o,m)),h?Qe(r):r})}return m&&(r=Ft(t,r,this.index,o,m)),h?Qe(r):r};function Qe(t){const i=[],e=it(),s=it();for(let r=0,n,o,h,l,a,f,u;r<t.length;r++){n=t[r],o=n.field,h=n.result;for(let g=0;g<h.length;g++)a=h[g],typeof a!="object"?a={id:l=a}:l=a.id,(f=e[l])?f.push(o):(a.field=e[l]=[o],i.push(a)),(u=a.highlight)&&(f=s[l],f||(s[l]=f={},a.highlight=f),f[o]=u)}return i}function Ni(t,i,e,s,r){return t=this.tag.get(t),t?(t=t.get(i),t?(i=t.length-s,i>0&&((e&&i>e||s)&&(t=t.slice(s,s+e)),r&&(t=Bt.call(this,t))),t):[]):[]}function Bt(t){if(!this||!this.store)return t;if(this.db)return this.index.get(this.field[0]).db.enrich(t);const i=Array(t.length);for(let e=0,s;e<t.length;e++)s=t[e],i[e]={id:s,doc:this.store.get(s)};return i}function jt(t){if(!this||this.constructor!==jt)return new jt(t);const i=t.document||t.doc||t;let e,s;if(this.B=[],this.field=[],this.D=[],this.key=(e=i.key||i.id)&&Zt(e,this.D)||"id",(s=t.keystore||0)&&(this.keystore=s),this.fastupdate=!!t.fastupdate,this.reg=!this.fastupdate||t.worker||t.db?s?new dt(s):new Set:s?new ct(s):new Map,this.h=(e=i.store||null)&&e&&e!==!0&&[],this.store=e?s?new ct(s):new Map:null,this.cache=(e=t.cache||null)&&new At(e),t.cache=!1,this.worker=t.worker||!1,this.priority=t.priority||4,this.index=Vi.call(this,t,i),this.tag=null,(e=i.tag)&&(typeof e=="string"&&(e=[e]),e.length)){this.tag=new Map,this.A=[],this.F=[];for(let r=0,n,o;r<e.length;r++){if(n=e[r],o=n.field||n,!o)throw Error("The tag field from the document descriptor is undefined.");n.custom?this.A[r]=n.custom:(this.A[r]=Zt(o,this.D),n.filter&&(typeof this.A[r]=="string"&&(this.A[r]=new String(this.A[r])),this.A[r].G=n.filter)),this.F[r]=o,this.tag.set(o,new Map)}}if(this.worker){this.fastupdate=!1,t=[];for(const r of this.index.values())r.then&&t.push(r);if(t.length){const r=this;return Promise.all(t).then(function(n){let o=0;for(const h of r.index.entries()){const l=h[0];let a=h[1];a.then&&(a=n[o],r.index.set(l,a),o++)}return r})}}else t.db&&(this.fastupdate=!1,this.mount(t.db))}b=jt.prototype;b.mount=function(t){let i=this.field;if(this.tag)for(let n=0,o;n<this.F.length;n++){o=this.F[n];var e=void 0;this.index.set(o,e=new pt({},this.reg)),i===this.field&&(i=i.slice(0)),i.push(o),e.tag=this.tag.get(o)}e=[];const s={db:t.db,type:t.type,fastupdate:t.fastupdate};for(let n=0,o,h;n<i.length;n++){s.field=h=i[n],o=this.index.get(h);const l=new t.constructor(t.id,s);l.id=t.id,e[n]=l.mount(o),o.document=!0,n?o.bypass=!0:o.store=this.store}const r=this;return this.db=Promise.all(e).then(function(){r.db=!0})};b.commit=async function(){const t=[];for(const i of this.index.values())t.push(i.commit());await Promise.all(t),this.reg.clear()};b.destroy=function(){const t=[];for(const i of this.index.values())t.push(i.destroy());return Promise.all(t)};function Vi(t,i){const e=new Map;let s=i.index||i.field||i;ut(s)&&(s=[s]);for(let n=0,o,h;n<s.length;n++){if(o=s[n],ut(o)||(h=o,o=o.field),h=Lt(h)?Object.assign({},t,h):t,this.worker){var r=void 0;r=(r=h.encoder)&&r.encode?r:new Dt(typeof r=="string"?ii[r]:r||{}),r=new It(h,r),e.set(o,r)}this.worker||e.set(o,new pt(h,this.reg)),h.custom?this.B[n]=h.custom:(this.B[n]=Zt(o,this.D),h.filter&&(typeof this.B[n]=="string"&&(this.B[n]=new String(this.B[n])),this.B[n].G=h.filter)),this.field[n]=o}if(this.h){t=i.store,ut(t)&&(t=[t]);for(let n=0,o,h;n<t.length;n++)o=t[n],h=o.field||o,o.custom?(this.h[n]=o.custom,o.custom.O=h):(this.h[n]=Zt(h,this.D),o.filter&&(typeof this.h[n]=="string"&&(this.h[n]=new String(this.h[n])),this.h[n].G=o.filter))}return e}function Zt(t,i){const e=t.split(":");let s=0;for(let r=0;r<e.length;r++)t=e[r],t[t.length-1]==="]"&&(t=t.substring(0,t.length-2))&&(i[s]=!0),t&&(e[s++]=t);return s<e.length&&(e.length=s),s>1?e:e[0]}b.append=function(t,i){return this.add(t,i,!0)};b.update=function(t,i){return this.remove(t).add(t,i)};b.remove=function(t){Lt(t)&&(t=Kt(t,this.key));for(var i of this.index.values())i.remove(t,!0);if(this.reg.has(t)){if(this.tag&&!this.fastupdate)for(let e of this.tag.values())for(let s of e){i=s[0];const r=s[1],n=r.indexOf(t);n>-1&&(r.length>1?r.splice(n,1):e.delete(i))}this.store&&this.store.delete(t),this.reg.delete(t)}return this.cache&&this.cache.remove(t),this};b.clear=function(){const t=[];for(const i of this.index.values()){const e=i.clear();e.then&&t.push(e)}if(this.tag)for(const i of this.tag.values())i.clear();return this.store&&this.store.clear(),this.cache&&this.cache.clear(),t.length?Promise.all(t):this};b.contain=function(t){return this.db?this.index.get(this.field[0]).db.has(t):this.reg.has(t)};b.cleanup=function(){for(const t of this.index.values())t.cleanup();return this};b.get=function(t){return this.db?this.index.get(this.field[0]).db.enrich(t).then(function(i){return i[0]&&i[0].doc||null}):this.store.get(t)||null};b.set=function(t,i){return typeof t=="object"&&(i=t,t=Kt(i,this.key)),this.store.set(t,i),this};b.searchCache=Me;b.export=Ei;b.import=Wi;je(jt.prototype);function Ce(t,i=0){let e=[],s=[];i&&(i=25e4/i*5e3|0);for(const r of t.entries())s.push(r),s.length===i&&(e.push(s),s=[]);return s.length&&e.push(s),e}function ze(t,i){i||(i=new Map);for(let e=0,s;e<t.length;e++)s=t[e],i.set(s[0],s[1]);return i}function oi(t,i=0){let e=[],s=[];i&&(i=25e4/i*1e3|0);for(const r of t.entries())s.push([r[0],Ce(r[1])[0]||[]]),s.length===i&&(e.push(s),s=[]);return s.length&&e.push(s),e}function li(t,i){i||(i=new Map);for(let e=0,s,r;e<t.length;e++)s=t[e],r=i.get(s[0]),i.set(s[0],ze(s[1],r));return i}function hi(t){let i=[],e=[];for(const s of t.keys())e.push(s),e.length===25e4&&(i.push(e),e=[]);return e.length&&i.push(e),i}function ai(t,i){i||(i=new Set);for(let e=0;e<t.length;e++)i.add(t[e]);return i}function Xt(t,i,e,s,r,n,o=0){const h=s&&s.constructor===Array;var l=h?s.shift():s;if(!l)return this.export(t,i,r,n+1);if((l=t((i?i+".":"")+(o+1)+"."+e,JSON.stringify(l)))&&l.then){const a=this;return l.then(function(){return Xt.call(a,t,i,e,h?s:null,r,n,o+1)})}return Xt.call(this,t,i,e,h?s:null,r,n,o+1)}function Ei(t,i,e=0,s=0){if(e<this.field.length){const o=this.field[e];if((i=this.index.get(o).export(t,o,e,s=1))&&i.then){const h=this;return i.then(function(){return h.export(t,o,e+1)})}return this.export(t,o,e+1)}let r,n;switch(s){case 0:r="reg",n=hi(this.reg),i=null;break;case 1:r="tag",n=this.tag&&oi(this.tag,this.reg.size),i=null;break;case 2:r="doc",n=this.store&&Ce(this.store),i=null;break;default:return}return Xt.call(this,t,i,r,n||null,e,s)}function Wi(t,i){var e=t.split(".");e[e.length-1]==="json"&&e.pop();const s=e.length>2?e[0]:"";if(e=e.length>2?e[2]:e[1],this.worker&&s)return this.index.get(s).import(t);if(i){if(typeof i=="string"&&(i=JSON.parse(i)),s)return this.index.get(s).import(e,i);switch(e){case"reg":this.fastupdate=!1,this.reg=ai(i,this.reg);for(let r=0,n;r<this.field.length;r++)n=this.index.get(this.field[r]),n.fastupdate=!1,n.reg=this.reg;if(this.worker){i=[];for(const r of this.index.values())i.push(r.import(t));return Promise.all(i)}break;case"tag":this.tag=li(i,this.tag);break;case"doc":this.store=ze(i,this.store)}}}function Je(t,i){let e="";for(const s of t.entries()){t=s[0];const r=s[1];let n="";for(let o=0,h;o<r.length;o++){h=r[o]||[""];let l="";for(let a=0;a<h.length;a++)l+=(l?",":"")+(i==="string"?'"'+h[a]+'"':h[a]);l="["+l+"]",n+=(n?",":"")+l}n='["'+t+'",['+n+"]]",e+=(e?",":"")+n}return e}pt.prototype.remove=function(t,i){const e=this.reg.size&&(this.fastupdate?this.reg.get(t):this.reg.has(t));if(e){if(this.fastupdate){for(let s=0,r,n;s<e.length;s++)if((r=e[s])&&(n=r.length))if(r[n-1]===t)r.pop();else{const o=r.indexOf(t);o>=0&&r.splice(o,1)}}else Rt(this.map,t),this.depth&&Rt(this.ctx,t);i||this.reg.delete(t)}return this.db&&(this.commit_task.push({del:t}),this.M&&fi(this)),this.cache&&this.cache.remove(t),this};function Rt(t,i){let e=0;var s=typeof i>"u";if(t.constructor===Array){for(let r=0,n,o,h;r<t.length;r++)if((n=t[r])&&n.length){if(s)return 1;if(o=n.indexOf(i),o>=0){if(n.length>1)return n.splice(o,1),1;if(delete t[r],e)return 1;h=1}else{if(h)return 1;e++}}}else for(let r of t.entries())s=r[0],Rt(r[1],i)?e++:t.delete(s);return e}const Qi={memory:{resolution:1},performance:{resolution:3,fastupdate:!0,context:{depth:1,resolution:1}},match:{tokenize:"forward"},score:{resolution:9,context:{depth:2,resolution:3}}};pt.prototype.add=function(t,i,e,s){if(i&&(t||t===0)){if(!s&&!e&&this.reg.has(t))return this.update(t,i);s=this.depth,i=this.encoder.encode(i,!s);const a=i.length;if(a){const f=it(),u=it(),g=this.resolution;for(let c=0;c<a;c++){let m=i[this.rtl?a-1-c:c];var r=m.length;if(r&&(s||!u[m])){var n=this.score?this.score(i,m,c,null,0):Wt(g,a,c),o="";switch(this.tokenize){case"tolerant":if(gt(this,u,m,n,t,e),r>2){for(let d=1,p,x,v,_;d<r-1;d++)p=m.charAt(d),x=m.charAt(d+1),v=m.substring(0,d)+x,_=m.substring(d+2),o=v+p+_,gt(this,u,o,n,t,e),o=v+_,gt(this,u,o,n,t,e);gt(this,u,m.substring(0,m.length-1),n,t,e)}break;case"full":if(r>2){for(let d=0,p;d<r;d++)for(n=r;n>d;n--){o=m.substring(d,n),p=this.rtl?r-1-d:d;var h=this.score?this.score(i,m,c,o,p):Wt(g,a,c,r,p);gt(this,u,o,h,t,e)}break}case"bidirectional":case"reverse":if(r>1){for(h=r-1;h>0;h--){o=m[this.rtl?r-1-h:h]+o;var l=this.score?this.score(i,m,c,o,h):Wt(g,a,c,r,h);gt(this,u,o,l,t,e)}o=""}case"forward":if(r>1){for(h=0;h<r;h++)o+=m[this.rtl?r-1-h:h],gt(this,u,o,n,t,e);break}default:if(gt(this,u,m,n,t,e),s&&a>1&&c<a-1)for(r=this.N,o=m,n=Math.min(s+1,this.rtl?c+1:a-c),h=1;h<n;h++){m=i[this.rtl?a-1-c-h:c+h],l=this.bidirectional&&m>o;const d=this.score?this.score(i,o,c,m,h-1):Wt(r+(a/2>r?0:1),a,c,n-1,h-1);gt(this,f,l?o:m,d,t,e,l?m:o)}}}}this.fastupdate||this.reg.add(t)}}return this.db&&(this.commit_task.push(e?{ins:t}:{del:t}),this.M&&fi(this)),this};function gt(t,i,e,s,r,n,o){let h,l;if(!(h=i[e])||o&&!h[o]){if(o?(i=h||(i[e]=it()),i[o]=1,l=t.ctx,(h=l.get(o))?l=h:l.set(o,l=t.keystore?new ct(t.keystore):new Map)):(l=t.map,i[e]=1),(h=l.get(e))?l=h:l.set(e,l=h=[]),n){for(let a=0,f;a<h.length;a++)if((f=h[a])&&f.includes(r)){if(a<=s)return;f.splice(f.indexOf(r),1),t.fastupdate&&(i=t.reg.get(r))&&i.splice(i.indexOf(f),1);break}}if(l=l[s]||(l[s]=[]),l.push(r),l.length===2**31-1){if(i=new Pt(l),t.fastupdate)for(let a of t.reg.values())a.includes(l)&&(a[a.indexOf(l)]=i);h[s]=l=i}t.fastupdate&&((s=t.reg.get(r))?s.push(l):t.reg.set(r,[l]))}}function Wt(t,i,e,s,r){return e&&t>1?i+(s||0)<=t?e+(r||0):(t-1)/(i+(s||0))*(e+(r||0))+1|0:0}pt.prototype.search=function(t,i,e){if(e||(i||typeof t!="object"?typeof i=="object"&&(e=i,i=0):(e=t,t="")),e&&e.cache)return e.cache=!1,t=this.searchCache(t,i,e),e.cache=!0,t;let s=[],r,n,o,h=0,l,a,f,u,g;e&&(t=e.query||t,i=e.limit||i,h=e.offset||0,n=e.context,o=e.suggest,g=(l=e.resolve)&&e.enrich,f=e.boost,u=e.resolution,a=this.db&&e.tag),typeof l>"u"&&(l=this.resolve),n=this.depth&&n!==!1;let c=this.encoder.encode(t,!n);if(r=c.length,i=i||(l?100:0),r===1)return Ye.call(this,c[0],"",i,h,l,g,a);if(r===2&&n&&!o)return Ye.call(this,c[1],c[0],i,h,l,g,a);let m=it(),d=0,p;if(n&&(p=c[0],d=1),u||u===0||(u=p?this.N:this.resolution),this.db){if(this.db.search&&(e=this.db.search(this,c,i,h,o,l,g,a),e!==!1))return e;const x=this;return(async function(){for(let v,_;d<r;d++){if((_=c[d])&&!m[_]){if(m[_]=1,v=await ge(x,_,p,0,0,!1,!1),v=Ze(v,s,o,u)){s=v;break}p&&(o&&v&&s.length||(p=_))}o&&p&&d===r-1&&!s.length&&(u=x.resolution,p="",d=-1,m=it())}return Fe(s,u,i,h,o,f,l)})()}for(let x,v;d<r;d++){if((v=c[d])&&!m[v]){if(m[v]=1,x=ge(this,v,p,0,0,!1,!1),x=Ze(x,s,o,u)){s=x;break}p&&(o&&x&&s.length||(p=v))}o&&p&&d===r-1&&!s.length&&(u=this.resolution,p="",d=-1,m=it())}return Fe(s,u,i,h,o,f,l)};function Fe(t,i,e,s,r,n,o){let h=t.length,l=t;if(h>1)l=Yt(t,i,e,s,r,n,o);else if(h===1)return o?Ae.call(null,t[0],e,s):new tt(t[0],this);return o?l:new tt(l,this)}function Ye(t,i,e,s,r,n,o){return t=ge(this,t,i,e,s,r,n,o),this.db?t.then(function(h){return r?h||[]:new tt(h,this)}):t&&t.length?r?Ae.call(this,t,e,s):new tt(t,this):r?[]:new tt([],this)}function Ze(t,i,e,s){let r=[];if(t&&t.length){if(t.length<=s){i.push(t);return}for(let n=0,o;n<s;n++)(o=t[n])&&(r[n]=o);if(r.length){i.push(r);return}}if(!e)return r}function ge(t,i,e,s,r,n,o,h){let l;return e&&(l=t.bidirectional&&i>e)&&(l=e,e=i,i=l),t.db?t.db.get(i,e,s,r,n,o,h):(t=e?(t=t.ctx.get(e))&&t.get(i):t.map.get(i),t)}function pt(t,i){if(!this||this.constructor!==pt)return new pt(t);if(t){var e=ut(t)?t:t.preset;e&&(t=Object.assign({},Qi[e],t))}else t={};e=t.context;const s=e===!0?{depth:1}:e||{},r=ut(t.encoder)?ii[t.encoder]:t.encode||t.encoder||{};this.encoder=r.encode?r:typeof r=="object"?new Dt(r):{encode:r},this.resolution=t.resolution||9,this.tokenize=e=(e=t.tokenize)&&e!=="default"&&e!=="exact"&&e||"strict",this.depth=e==="strict"&&s.depth||0,this.bidirectional=s.bidirectional!==!1,this.fastupdate=!!t.fastupdate,this.score=t.score||null,(e=t.keystore||0)&&(this.keystore=e),this.map=e?new ct(e):new Map,this.ctx=e?new ct(e):new Map,this.reg=i||(this.fastupdate?e?new ct(e):new Map:e?new dt(e):new Set),this.N=s.resolution||3,this.rtl=r.rtl||t.rtl||!1,this.cache=(e=t.cache||null)&&new At(e),this.resolve=t.resolve!==!1,(e=t.db)&&(this.db=this.mount(e)),this.M=t.commit!==!1,this.commit_task=[],this.commit_timer=null,this.priority=t.priority||4}b=pt.prototype;b.mount=function(t){return this.commit_timer&&(clearTimeout(this.commit_timer),this.commit_timer=null),t.mount(this)};b.commit=function(){return this.commit_timer&&(clearTimeout(this.commit_timer),this.commit_timer=null),this.db.commit(this)};b.destroy=function(){return this.commit_timer&&(clearTimeout(this.commit_timer),this.commit_timer=null),this.db.destroy()};function fi(t){t.commit_timer||(t.commit_timer=setTimeout(function(){t.commit_timer=null,t.db.commit(t)},1))}b.clear=function(){return this.map.clear(),this.ctx.clear(),this.reg.clear(),this.cache&&this.cache.clear(),this.db?(this.commit_timer&&clearTimeout(this.commit_timer),this.commit_timer=null,this.commit_task=[],this.db.clear()):this};b.append=function(t,i){return this.add(t,i,!0)};b.contain=function(t){return this.db?this.db.has(t):this.reg.has(t)};b.update=function(t,i){const e=this,s=this.remove(t);return s&&s.then?s.then(()=>e.add(t,i)):this.add(t,i)};b.cleanup=function(){return this.fastupdate?(Rt(this.map),this.depth&&Rt(this.ctx),this):this};b.searchCache=Me;b.export=function(t,i,e=0,s=0){let r,n;switch(s){case 0:r="reg",n=hi(this.reg);break;case 1:r="cfg",n=null;break;case 2:r="map",n=Ce(this.map,this.reg.size);break;case 3:r="ctx",n=oi(this.ctx,this.reg.size);break;default:return}return Xt.call(this,t,i,r,n,e,s)};b.import=function(t,i){if(i)switch(typeof i=="string"&&(i=JSON.parse(i)),t=t.split("."),t[t.length-1]==="json"&&t.pop(),t.length===3&&t.shift(),t=t.length>1?t[1]:t[0],t){case"reg":this.fastupdate=!1,this.reg=ai(i,this.reg);break;case"map":this.map=ze(i,this.map);break;case"ctx":this.ctx=li(i,this.ctx)}};b.serialize=function(t=!0){let i="",e="",s="";if(this.reg.size){let n;for(var r of this.reg.keys())n||(n=typeof r),i+=(i?",":"")+(n==="string"?'"'+r+'"':r);i="index.reg=new Set(["+i+"]);",e=Je(this.map,n),e="index.map=new Map(["+e+"]);";for(const o of this.ctx.entries()){r=o[0];let h=Je(o[1],n);h="new Map(["+h+"])",h='["'+r+'",'+h+"]",s+=(s?",":"")+h}s="index.ctx=new Map(["+s+"]);"}return t?"function inject(index){"+i+e+s+"}":i+e+s};je(pt.prototype);const ui=typeof window<"u"&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),Gt=["map","ctx","tag","reg","cfg"],kt=it();function me(t,i={}){if(!this||this.constructor!==me)return new me(t,i);typeof t=="object"&&(i=t,t=t.name),t||console.info("Default storage space was used, because a name was not passed."),this.id="flexsearch"+(t?":"+t.toLowerCase().replace(/[^a-z0-9_\-]/g,""):""),this.field=i.field?i.field.toLowerCase().replace(/[^a-z0-9_\-]/g,""):"",this.type=i.type,this.fastupdate=this.support_tag_search=!1,this.db=null,this.h={}}b=me.prototype;b.mount=function(t){return t.index?t.mount(this):(t.db=this,this.open())};b.open=function(){if(this.db)return this.db;let t=this;navigator.storage&&navigator.storage.persist&&navigator.storage.persist(),kt[t.id]||(kt[t.id]=[]),kt[t.id].push(t.field);const i=ui.open(t.id,1);return i.onupgradeneeded=function(){const e=t.db=this.result;for(let s=0,r;s<Gt.length;s++){r=Gt[s];for(let n=0,o;n<kt[t.id].length;n++)o=kt[t.id][n],e.objectStoreNames.contains(r+(r!=="reg"&&o?":"+o:""))||e.createObjectStore(r+(r!=="reg"&&o?":"+o:""))}},t.db=yt(i,function(e){t.db=e,t.db.onversionchange=function(){t.close()}})};b.close=function(){this.db&&this.db.close(),this.db=null};b.destroy=function(){const t=ui.deleteDatabase(this.id);return yt(t)};b.clear=function(){const t=[];for(let e=0,s;e<Gt.length;e++){s=Gt[e];for(let r=0,n;r<kt[this.id].length;r++)n=kt[this.id][r],t.push(s+(s!=="reg"&&n?":"+n:""))}const i=this.db.transaction(t,"readwrite");for(let e=0;e<t.length;e++)i.objectStore(t[e]).clear();return yt(i)};b.get=function(t,i,e=0,s=0,r=!0,n=!1){t=this.db.transaction((i?"ctx":"map")+(this.field?":"+this.field:""),"readonly").objectStore((i?"ctx":"map")+(this.field?":"+this.field:"")).get(i?i+":"+t:t);const o=this;return yt(t).then(function(h){let l=[];if(!h||!h.length)return l;if(r){if(!e&&!s&&h.length===1)return h[0];for(let a=0,f;a<h.length;a++)if((f=h[a])&&f.length){if(s>=f.length){s-=f.length;continue}const u=e?s+Math.min(f.length-s,e):f.length;for(let g=s;g<u;g++)l.push(f[g]);if(s=0,l.length===e)break}return n?o.enrich(l):l}return h})};b.tag=function(t,i=0,e=0,s=!1){t=this.db.transaction("tag"+(this.field?":"+this.field:""),"readonly").objectStore("tag"+(this.field?":"+this.field:"")).get(t);const r=this;return yt(t).then(function(n){return!n||!n.length||e>=n.length?[]:!i&&!e?n:(n=n.slice(e,e+i),s?r.enrich(n):n)})};b.enrich=function(t){typeof t!="object"&&(t=[t]);const i=this.db.transaction("reg","readonly").objectStore("reg"),e=[];for(let s=0;s<t.length;s++)e[s]=yt(i.get(t[s]));return Promise.all(e).then(function(s){for(let r=0;r<s.length;r++)s[r]={id:t[r],doc:s[r]?JSON.parse(s[r]):null};return s})};b.has=function(t){return t=this.db.transaction("reg","readonly").objectStore("reg").getKey(t),yt(t).then(function(i){return!!i})};b.search=null;b.info=function(){};b.transaction=function(t,i,e){t+=t!=="reg"&&this.field?":"+this.field:"";let s=this.h[t+":"+i];if(s)return e.call(this,s);let r=this.db.transaction(t,i);this.h[t+":"+i]=s=r.objectStore(t);const n=e.call(this,s);return this.h[t+":"+i]=null,yt(r).finally(function(){return n})};b.commit=async function(t){let i=t.commit_task,e=[];t.commit_task=[];for(let s=0,r;s<i.length;s++)r=i[s],r.del&&e.push(r.del);e.length&&await this.remove(e),t.reg.size&&(await this.transaction("map","readwrite",function(s){for(const r of t.map){const n=r[0],o=r[1];o.length&&(s.get(n).onsuccess=function(){let h=this.result;var l;if(h&&h.length){const a=Math.max(h.length,o.length);for(let f=0,u,g;f<a;f++)if((g=o[f])&&g.length){if((u=h[f])&&u.length)for(l=0;l<g.length;l++)u.push(g[l]);else h[f]=g;l=1}}else h=o,l=1;l&&s.put(h,n)})}}),await this.transaction("ctx","readwrite",function(s){for(const r of t.ctx){const n=r[0],o=r[1];for(const h of o){const l=h[0],a=h[1];a.length&&(s.get(n+":"+l).onsuccess=function(){let f=this.result;var u;if(f&&f.length){const g=Math.max(f.length,a.length);for(let c=0,m,d;c<g;c++)if((d=a[c])&&d.length){if((m=f[c])&&m.length)for(u=0;u<d.length;u++)m.push(d[u]);else f[c]=d;u=1}}else f=a,u=1;u&&s.put(f,n+":"+l)})}}}),t.store?await this.transaction("reg","readwrite",function(s){for(const r of t.store){const n=r[0],o=r[1];s.put(typeof o=="object"?JSON.stringify(o):1,n)}}):t.bypass||await this.transaction("reg","readwrite",function(s){for(const r of t.reg.keys())s.put(1,r)}),t.tag&&await this.transaction("tag","readwrite",function(s){for(const r of t.tag){const n=r[0],o=r[1];o.length&&(s.get(n).onsuccess=function(){let h=this.result;h=h&&h.length?h.concat(o):o,s.put(h,n)})}}),t.map.clear(),t.ctx.clear(),t.tag&&t.tag.clear(),t.store&&t.store.clear(),t.document||t.reg.clear())};function ae(t,i,e){const s=t.value;let r,n=0;for(let o=0,h;o<s.length;o++){if(h=e?s:s[o]){for(let l=0,a,f;l<i.length;l++)if(f=i[l],a=h.indexOf(f),a>=0)if(r=1,h.length>1)h.splice(a,1);else{s[o]=[];break}n+=h.length}if(e)break}n?r&&t.update(s):t.delete(),t.continue()}b.remove=function(t){return typeof t!="object"&&(t=[t]),Promise.all([this.transaction("map","readwrite",function(i){i.openCursor().onsuccess=function(){const e=this.result;e&&ae(e,t)}}),this.transaction("ctx","readwrite",function(i){i.openCursor().onsuccess=function(){const e=this.result;e&&ae(e,t)}}),this.transaction("tag","readwrite",function(i){i.openCursor().onsuccess=function(){const e=this.result;e&&ae(e,t,!0)}}),this.transaction("reg","readwrite",function(i){for(let e=0;e<t.length;e++)i.delete(t[e])})])};function yt(t,i){return new Promise((e,s)=>{t.onsuccess=t.oncomplete=function(){i&&i(this.result),i=null,e(this.result)},t.onerror=t.onblocked=s,t=null})}const Ji={Document:jt},ve=new Ji.Document({document:{id:"id",index:["title","abstract","authors","keywords"]},tokenize:"forward",threshold:1,resolution:9,depth:3,cache:100}),Ot=Nt(""),Tt=Nt([]),Qt=Nt(!1),xe=Nt("");let ye=0;_e.subscribe(t=>{if(t.length>0&&t.length!==ye){try{ve.clear()}catch{}let i=0;t.forEach(e=>{try{ve.add({id:e.id,title:e.title,abstract:e.abstract||"",authors:e.authors.join(" "),keywords:e.keywords.join(" ")}),i++}catch(s){console.error("Error adding paper to search index:",e.id,s)}}),ye=t.length}});function fe(t){if(Ot.set(t),Qt.set(!0),!t||t.trim()===""){Tt.set([]),Qt.set(!1);return}if(ye===0){Tt.set([]),Qt.set(!1);return}try{const i=ve.search(t,{limit:100,enrich:!0,suggest:!0}),e=Mi(_e),s=new Map(e.map(o=>[o.id,o])),r=new Map;Array.isArray(i)&&i.forEach(o=>{o&&o.result&&o.result.forEach(l=>{const a=typeof l=="string"?l:l.id,f=s.get(a);f&&(r.has(a)?r.get(a).score++:r.set(a,{paper:f,score:1,highlights:{}}))})});const n=Array.from(r.values()).sort((o,h)=>h.score-o.score);Tt.set(n),xe.set(t)}catch(i){console.error("Search error:",i),Tt.set([]),xe.set(t)}Qt.set(!1)}const Fi=_i([Ot,_e],([t,i])=>{if(!t||t.length<2)return[];const e=new Set;i.forEach(r=>{r.title.toLowerCase().split(/\s+/).forEach(o=>{o.length>3&&e.add(o)}),r.keywords.forEach(o=>{e.add(o.toLowerCase())})});const s=t.toLowerCase();return Array.from(e).filter(r=>r.startsWith(s)).slice(0,10)});function Xe(){Ot.set(""),Tt.set([]),xe.set("")}var Yi=W('<button type="button" class="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors duration-200" aria-label="Clear search"><svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg></button>'),Zi=W('<button type="button"><svg class="h-4 w-4 text-gray-400" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path></svg> <span> </span></button>'),Xi=W('<div class="absolute z-10 mt-1 w-full bg-white dark:bg-gray-800 shadow-lg rounded-lg border border-gray-200 dark:border-gray-600 max-h-60 overflow-auto"></div>'),Gi=W('<div class="relative w-full"><div class="relative"><div class="pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"><svg class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path></svg></div> <input type="text" autocomplete="off" spellcheck="false"/> <!></div> <!></div>');function Rr(t,i){Ut(i,!1);const e=()=>$e(Fi,"$suggestions",r),s=()=>$e(Ot,"$searchQuery",r),[r,n]=Ai();let o=ft(i,"placeholder",8,"Search publications..."),h=ft(i,"redirectOnSearch",8,!0),l=ft(i,"showClearButton",8,!0),a=ft(i,"size",8,"md");const f=we();let u=bt(),g=bt(!1),c=bt(-1),m=bt(!1);Ue(()=>{st(m,!0)});const d={sm:"text-sm px-3 py-2",md:"text-base px-4 py-3",lg:"text-lg px-6 py-4"};function p(H){const et=H.target.value;et.length>=2?(st(g,!0),st(c,-1)):st(g,!1),clearTimeout(x),x=setTimeout(()=>{et.trim()?(fe(et),f("search",{query:et})):(Xe(),f("clear"))},300)}let x;function v(H){if(!(!K(g)||e().length===0))switch(H.key){case"ArrowDown":H.preventDefault(),st(c,Math.min(K(c)+1,e().length-1));break;case"ArrowUp":H.preventDefault(),st(c,Math.max(K(c)-1,-1));break;case"Enter":H.preventDefault(),K(c)>=0?_(e()[K(c)]):P();break;case"Escape":st(g,!1),st(c,-1);break}}function _(H){He(Ot,H),oe(u,K(u).value=H),st(g,!1),st(c,-1),fe(H),f("search",{query:H}),h()&&Te(`${Le}/publications`)}function P(){const H=K(u).value.trim();H&&(st(g,!1),fe(H),f("search",{query:H}),h()&&Te(`${Le}/publications`))}function T(){He(Ot,""),oe(u,K(u).value=""),st(g,!1),Xe(),f("clear"),K(u).focus()}function z(){s()&&e().length>0&&st(g,!0)}function B(){setTimeout(()=>{st(g,!1),st(c,-1)},150)}qt(()=>(K(m),K(u),s()),()=>{K(m)&&K(u)&&s()!==K(u).value&&oe(u,K(u).value=s())}),te(),ie();var M=Gi(),O=w(M),D=S(w(O),2);let L;ei(D,H=>st(u,H),()=>K(u));var F=S(D,2);{var X=H=>{var rt=Yi();lt("click",rt,T),E(H,rt)};Z(F,H=>{l()&&s()&&H(X)})}y(O);var Q=S(O,2);{var N=H=>{var rt=Xi();ke(rt,5,e,be,(et,ht,nt)=>{var j=Zi();let V;var G=S(w(j),2),k=w(G,!0);y(G),y(j),q(Y=>{V=_t(j,1,"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200 flex items-center space-x-3",null,V,Y),J(k,K(ht))},[()=>({"bg-primary-50":nt===K(c),"text-primary-600":nt===K(c)})]),lt("click",j,()=>_(K(ht))),E(et,j)}),y(rt),E(H,rt)};Z(Q,H=>{K(g),e(),C(()=>K(g)&&e().length>0)&&H(N)})}y(M),q(H=>{ue(D,"placeholder",o()),L=_t(D,1,`block w-full rounded-lg border-0 bg-white dark:bg-gray-800 ${A(a()),C(()=>d[a()])??""} pl-10 text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-gray-500 ring-1 ring-inset ring-gray-300 dark:ring-gray-600 focus:ring-2 focus:ring-inset focus:ring-primary-600 dark:focus:ring-primary-500 transition-colors duration-200`,null,L,H)},[()=>({"pr-10":l()&&s()})]),lt("input",D,p),lt("keydown",D,v),lt("focus",D,z),lt("blur",D,B),E(t,M),ee(),n()}const Ge={isOpen:!1,selectedPaper:null};function Ui(){const{subscribe:t,set:i,update:e}=Nt(Ge);return{subscribe:t,openModal:s=>{i({isOpen:!0,selectedPaper:s})},closeModal:()=>{i({isOpen:!1,selectedPaper:null})},reset:()=>i(Ge)}}const qi=Ui();var tr=W('<div class="flex items-center space-x-1 text-sm text-gray-500 dark:text-gray-400"><svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 01.865-.501 48.172 48.172 0 003.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0012 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018z"></path></svg> <span> </span></div>'),er=W('<p class="text-sm text-gray-700 dark:text-gray-300 mb-4 leading-relaxed"> </p>'),ir=W('<span class="inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"> </span>'),rr=W('<span class="inline-flex items-center px-2 py-1 rounded-md text-xs font-medium text-gray-500 dark:text-gray-400"> </span>'),sr=W('<div class="flex flex-wrap gap-1.5 mb-4"><!> <!></div>'),nr=W('<div class="flex items-center space-x-1"><svg class="h-3 w-3" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"></path></svg> <span> </span></div>'),or=W('<div class="flex items-center space-x-1"><svg class="h-3 w-3" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"></path></svg> <span> </span></div>'),lr=W('<div class="flex items-center space-x-1 text-xs text-primary-600 dark:text-primary-400"><span>View details</span> <svg class="h-3 w-3" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></div>'),hr=W('<article><div class="flex items-start justify-between mb-3"><div class="flex items-center space-x-3"><span> </span> <span class="text-sm text-gray-500 dark:text-gray-400"> </span></div> <!></div> <h3> </h3> <p class="text-sm text-gray-600 dark:text-gray-400 mb-3"> </p> <!> <!> <div class="flex items-center justify-between pt-3 border-t border-gray-100 dark:border-gray-700"><div class="flex items-center space-x-4 text-xs text-gray-500 dark:text-gray-400"><!> <!></div> <!></div></article>');function Nr(t,i){Ut(i,!1);const e=bt();let s=ft(i,"paper",8),r=ft(i,"showAbstract",8,!1),n=ft(i,"compact",8,!1);function o(j){return j.length<=3?j.join(", "):`${j.slice(0,3).join(", ")}, et al.`}function h(j,V=150){return j.length<=V?j:j.substring(0,V)+"..."}function l(){qi.openModal(s())}function a(j){(j.key==="Enter"||j.key===" ")&&(j.preventDefault(),l())}qt(()=>{},()=>{st(e,!0)}),te(),ie();var f=hr();ki(f,j=>({class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 transition-all duration-200 hover:border-gray-300 dark:hover:border-gray-600",role:K(e)?"button":"article",...K(e)?{tabindex:0}:{},"aria-label":(K(e),A(s()),C(()=>K(e)?`View details for: ${s().title}`:void 0)),[bi]:j}),[()=>({"shadow-sm":!n(),"shadow-lg":n(),"hover:shadow-md":!n()&&K(e),"hover:shadow-xl":n()&&K(e),"cursor-pointer":K(e),"p-6":!n(),"p-4":n()})]);var u=w(f),g=w(u),c=w(g);let m;var d=w(c,!0);y(c);var p=S(c,2),x=w(p,!0);y(p),y(g);var v=S(g,2);{var _=j=>{var V=tr(),G=S(w(V),2),k=w(G,!0);y(G),y(V),q(()=>J(k,(A(s()),C(()=>s().citations)))),E(j,V)};Z(v,j=>{A(s()),C(()=>s().citations>0)&&j(_)})}y(u);var P=S(u,2);let T;var z=w(P,!0);y(P);var B=S(P,2),M=w(B,!0);y(B);var O=S(B,2);{var D=j=>{var V=er(),G=w(V,!0);y(V),q(k=>J(G,k),[()=>(A(n()),A(s()),C(()=>n()?h(s().abstract):s().abstract))]),E(j,V)};Z(O,j=>{A(r()),A(s()),C(()=>r()&&s().abstract)&&j(D)})}var L=S(O,2);{var F=j=>{var V=sr(),G=w(V);ke(G,1,()=>(A(s()),A(n()),C(()=>s().keywords.slice(0,n()?3:6))),be,(at,wt)=>{var mt=ir(),se=w(mt,!0);y(mt),q(()=>J(se,K(wt))),E(at,mt)});var k=S(G,2);{var Y=at=>{var wt=rr(),mt=w(wt);y(wt),q(()=>J(mt,`+${A(s()),A(n()),C(()=>s().keywords.length-(n()?3:6))??""} more`)),E(at,wt)};Z(k,at=>{A(s()),A(n()),C(()=>s().keywords.length>(n()?3:6))&&at(Y)})}y(V),E(j,V)};Z(L,j=>{A(s()),C(()=>s().keywords.length>0)&&j(F)})}var X=S(L,2),Q=w(X),N=w(Q);{var H=j=>{var V=nr(),G=S(w(V),2),k=w(G,!0);y(G),y(V),q(()=>J(k,(A(s()),C(()=>s().location)))),E(j,V)};Z(N,j=>{A(s()),C(()=>s().location)&&j(H)})}var rt=S(N,2);{var et=j=>{var V=or(),G=S(w(V),2),k=w(G);y(G),y(V),q(()=>J(k,`pp. ${A(s()),C(()=>s().pages)??""}`)),E(j,V)};Z(rt,j=>{A(s()),C(()=>s().pages)&&j(et)})}y(Q);var ht=S(Q,2);{var nt=j=>{var V=lr();E(j,V)};Z(ht,j=>{K(e)&&j(nt)})}y(X),y(f),q((j,V,G,k)=>{m=_t(c,1,"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",null,m,j),J(d,V),J(x,(A(s()),C(()=>s().year))),T=_t(P,1,"font-semibold text-gray-900 dark:text-white leading-tight mb-3",null,T,G),J(z,(A(s()),C(()=>s().title))),J(M,k)},[()=>({"bg-primary-100":s().conference==="AH","text-primary-800":s().conference==="AH","bg-purple-100":s().conference==="AHS","text-purple-800":s().conference==="AHS"}),()=>(A(s()),C(()=>s().conferenceYear||`${s().conference} '${s().year.toString().slice(-2)}`)),()=>({"text-lg":!n(),"text-base":n(),"hover:text-primary-600":K(e),"dark:hover:text-primary-400":K(e)}),()=>(A(s()),C(()=>o(s().authors)))]),lt("click",f,function(...j){(K(e)?l:void 0)?.apply(this,j)}),lt("keypress",f,function(...j){(K(e)?a:void 0)?.apply(this,j)}),E(t,f),ee()}var ar=W('<h3 class="text-lg font-semibold text-gray-900 dark:text-white" id="modal-title"> </h3>'),fr=W('<div class="flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center"><!></div> <button type="button" class="rounded-md text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-colors duration-200" aria-label="Close modal"><svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg></button></div>'),ur=W('<div class="flex items-center justify-end space-x-3 p-6 border-t border-gray-200 dark:border-gray-700"><!></div>'),cr=W('<div class="fixed inset-0 z-50 overflow-y-auto" aria-labelledby="modal-title" aria-modal="true" role="dialog"><div class="flex min-h-full items-center justify-center p-4 text-center sm:items-center sm:p-0" role="presentation"><div></div> <div><!> <div class="p-6"><!></div> <!></div></div></div>');function dr(t,i){const e=Si(i);Ut(i,!1);const s=we();let r=ft(i,"isOpen",8,!1),n=ft(i,"title",8,""),o=ft(i,"size",8,"lg"),h=bt(),l,a;const f={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-7xl"};function u(x){x.target===x.currentTarget&&c()}function g(x){if(r()){if(x.key==="Escape"){c();return}if(x.key==="Tab"){const v=K(h)?.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');v&&v.length>0&&(l=v[0],a=v[v.length-1],x.shiftKey?document.activeElement===l&&(a.focus(),x.preventDefault()):document.activeElement===a&&(l.focus(),x.preventDefault()))}}}function c(){s("close")}Ue(()=>(document.addEventListener("keydown",g),()=>{document.removeEventListener("keydown",g)})),qt(()=>(A(r()),K(h)),()=>{r()?(setTimeout(()=>{const x=K(h)?.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');x&&x.length>0&&x[0].focus()},10),document.body.style.overflow="hidden"):document.body.style.overflow=""}),te(),ie();var m=qe(),d=ti(m);{var p=x=>{var v=cr(),_=w(v),P=w(_);let T;var z=S(P,2);let B;var M=w(z);{var O=Q=>{var N=fr(),H=w(N),rt=w(H);le(rt,i,"header",{},ht=>{var nt=ar(),j=w(nt,!0);y(nt),q(()=>J(j,n())),E(ht,nt)}),y(H);var et=S(H,2);y(N),lt("click",et,c),E(Q,N)};Z(M,Q=>{A(n()),C(()=>n()||e.header)&&Q(O)})}var D=S(M,2),L=w(D);le(L,i,"default",{},null),y(D);var F=S(D,2);{var X=Q=>{var N=ur(),H=w(N);le(H,i,"footer",{},null),y(N),E(Q,N)};Z(F,Q=>{C(()=>e.footer)&&Q(X)})}y(z),ei(z,Q=>st(h,Q),()=>K(h)),y(_),y(v),q((Q,N)=>{T=_t(P,1,"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity duration-300 ease-out",null,T,Q),B=_t(z,1,`relative transform overflow-hidden rounded-lg bg-white dark:bg-gray-800 text-left shadow-xl transition-all duration-300 ease-out w-full ${A(o()),C(()=>f[o()])??""} mx-4 sm:mx-auto`,null,B,N)},[()=>({"opacity-100":r(),"opacity-0":!r()}),()=>({"scale-100":r(),"scale-95":!r(),"opacity-100":r(),"opacity-0":!r()})]),lt("click",_,u),lt("keydown",_,g),E(x,v)};Z(d,x=>{r()&&x(p)})}E(t,m),ee()}var pr=W('<div class="flex items-center space-x-2 text-sm"><div class="flex items-center space-x-1 text-gray-500 dark:text-gray-400"><svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 01.865-.501 48.172 48.172 0 003.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0012 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018z"></path></svg> <span class="font-semibold text-primary-600 dark:text-primary-400"> </span> <span>citations</span></div></div>'),gr=W('<div class="space-y-3"><h3 class="text-sm font-semibold text-gray-900 dark:text-white uppercase tracking-wider">Abstract</h3> <div class="prose prose-sm max-w-none text-gray-700 dark:text-gray-300 leading-relaxed"><p> </p></div></div>'),mr=W('<div class="flex flex-col"><span class="text-xs font-medium text-gray-500 dark:text-gray-400 uppercase">Conference</span> <span class="text-sm text-gray-900 dark:text-white"> </span></div>'),vr=W('<div class="flex flex-col"><span class="text-xs font-medium text-gray-500 dark:text-gray-400 uppercase">Publisher</span> <span class="text-sm text-gray-900 dark:text-white"> </span></div>'),xr=W('<div class="flex flex-col"><span class="text-xs font-medium text-gray-500 dark:text-gray-400 uppercase">Pages</span> <span class="text-sm text-gray-900 dark:text-white"> </span></div>'),yr=W('<div class="flex flex-col"><span class="text-xs font-medium text-gray-500 dark:text-gray-400 uppercase">Location</span> <span class="text-sm text-gray-900 dark:text-white"> </span></div>'),wr=W('<div class="flex flex-col"><span class="text-xs font-medium text-gray-500 dark:text-gray-400 uppercase">Series</span> <span class="text-sm text-gray-900 dark:text-white"> </span></div>'),kr=W('<div class="flex flex-col"><span class="text-xs font-medium text-gray-500 dark:text-gray-400 uppercase">Article No.</span> <span class="text-sm text-gray-900 dark:text-white"> </span></div>'),br=W('<div class="flex flex-col"><span class="text-xs font-medium text-gray-500 dark:text-gray-400 uppercase">Number of Pages</span> <span class="text-sm text-gray-900 dark:text-white"> </span></div>'),_r=W('<div class="flex flex-col"><span class="text-xs font-medium text-gray-500 dark:text-gray-400 uppercase">DOI</span> <a target="_blank" rel="noopener noreferrer" class="text-sm text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 font-mono break-all underline transition-colors duration-200"> </a></div>'),Mr=W('<div class="flex flex-col"><span class="text-xs font-medium text-gray-500 dark:text-gray-400 uppercase">URL</span> <a target="_blank" rel="noopener noreferrer" class="text-sm text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 font-mono break-all underline transition-colors duration-200"> </a></div>'),jr=W('<span class="inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200"> </span>'),Ar=W('<div class="space-y-3"><h3 class="text-sm font-semibold text-gray-900 dark:text-white uppercase tracking-wider">Keywords</h3> <div class="flex flex-wrap gap-2"></div></div>'),Sr=W('<div class="space-y-6"><div class="space-y-4"><div class="flex items-start justify-between"><div class="flex items-center space-x-3"><span> </span> <span class="text-sm text-gray-500 dark:text-gray-400 font-medium"> </span></div> <!></div> <h2 class="text-2xl font-bold text-gray-900 dark:text-white leading-tight"> </h2></div> <div class="space-y-2"><h3 class="text-sm font-semibold text-gray-900 dark:text-white uppercase tracking-wider">Authors</h3> <p class="text-base text-gray-700 dark:text-gray-300"> </p></div> <!> <div class="grid grid-cols-1 lg:grid-cols-2 gap-6"><div class="space-y-4"><h3 class="text-sm font-semibold text-gray-900 dark:text-white uppercase tracking-wider">Publication Details</h3> <div class="space-y-3"><!> <!> <!> <!> <!> <!> <!></div></div> <div class="space-y-4"><h3 class="text-sm font-semibold text-gray-900 dark:text-white uppercase tracking-wider">Identifiers</h3> <div class="space-y-3"><!> <!></div></div></div> <!></div>'),Cr=W('<div slot="header" class="flex items-center space-x-3"><div class="flex-1"><h3 class="text-xl font-semibold text-gray-900 dark:text-white leading-tight">Paper Details</h3></div></div>'),zr=W('<button type="button" class="inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-200"><svg class="mr-2 h-4 w-4" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg> View in ACM DL</button>'),Br=W('<div slot="footer" class="flex items-center justify-between"><div class="flex items-center text-sm text-gray-500 dark:text-gray-400"><svg class="h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"></path></svg> </div> <div class="flex items-center space-x-3"><button type="button" class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-200">Close</button> <!></div></div>');function Vr(t,i){Ut(i,!1);const e=bt(),s=we();let r=ft(i,"isOpen",8,!1),n=ft(i,"paper",8,null);function o(a){return a.length<=2?a.join(" and "):a.length<=5?a.slice(0,-1).join(", ")+", and "+a[a.length-1]:a.slice(0,3).join(", ")+", et al. ("+a.length+" authors)"}function h(){s("close")}function l(){if(n()&&(n().url||n().doi)){const a=n().url||`https://doi.org/${n().doi}`;window.open(a,"_blank","noopener,noreferrer")}}qt(()=>A(n()),()=>{st(e,n()?.url||n()?.doi)}),te(),ie(),dr(t,{get isOpen(){return r()},size:"xl",$$events:{close:h},children:(a,f)=>{var u=qe(),g=ti(u);{var c=m=>{var d=Sr(),p=w(d),x=w(p),v=w(x),_=w(v);let P;var T=w(_,!0);y(_);var z=S(_,2),B=w(z,!0);y(z),y(v);var M=S(v,2);{var O=I=>{var $=pr(),R=w($),U=S(w(R),2),$t=w(U,!0);y(U),ji(2),y(R),y($),q(()=>J($t,(A(n()),C(()=>n().citations)))),E(I,$)};Z(M,I=>{A(n()),C(()=>n().citations>0)&&I(O)})}y(x);var D=S(x,2),L=w(D,!0);y(D),y(p);var F=S(p,2),X=S(w(F),2),Q=w(X,!0);y(X),y(F);var N=S(F,2);{var H=I=>{var $=gr(),R=S(w($),2),U=w(R),$t=w(U,!0);y(U),y(R),y($),q(()=>J($t,(A(n()),C(()=>n().abstract)))),E(I,$)};Z(N,I=>{A(n()),C(()=>n().abstract)&&I(H)})}var rt=S(N,2),et=w(rt),ht=S(w(et),2),nt=w(ht);{var j=I=>{var $=mr(),R=S(w($),2),U=w(R,!0);y(R),y($),q(()=>J(U,(A(n()),C(()=>n().booktitle)))),E(I,$)};Z(nt,I=>{A(n()),C(()=>n().booktitle)&&I(j)})}var V=S(nt,2);{var G=I=>{var $=vr(),R=S(w($),2),U=w(R,!0);y(R),y($),q(()=>J(U,(A(n()),C(()=>n().publisher)))),E(I,$)};Z(V,I=>{A(n()),C(()=>n().publisher)&&I(G)})}var k=S(V,2);{var Y=I=>{var $=xr(),R=S(w($),2),U=w(R,!0);y(R),y($),q(()=>J(U,(A(n()),C(()=>n().pages)))),E(I,$)};Z(k,I=>{A(n()),C(()=>n().pages)&&I(Y)})}var at=S(k,2);{var wt=I=>{var $=yr(),R=S(w($),2),U=w(R,!0);y(R),y($),q(()=>J(U,(A(n()),C(()=>n().location)))),E(I,$)};Z(at,I=>{A(n()),C(()=>n().location)&&I(wt)})}var mt=S(at,2);{var se=I=>{var $=wr(),R=S(w($),2),U=w(R,!0);y(R),y($),q(()=>J(U,(A(n()),C(()=>n().series)))),E(I,$)};Z(mt,I=>{A(n()),C(()=>n().series)&&I(se)})}var Be=S(mt,2);{var ci=I=>{var $=kr(),R=S(w($),2),U=w(R,!0);y(R),y($),q(()=>J(U,(A(n()),C(()=>n().articleno)))),E(I,$)};Z(Be,I=>{A(n()),C(()=>n().articleno)&&I(ci)})}var di=S(Be,2);{var pi=I=>{var $=br(),R=S(w($),2),U=w(R,!0);y(R),y($),q(()=>J(U,(A(n()),C(()=>n().numpages)))),E(I,$)};Z(di,I=>{A(n()),C(()=>n().numpages)&&I(pi)})}y(ht),y(et);var Oe=S(et,2),Pe=S(w(Oe),2),Ie=w(Pe);{var gi=I=>{var $=_r(),R=S(w($),2),U=w(R,!0);y(R),y($),q(()=>{ue(R,"href",`https://doi.org/${A(n()),C(()=>n().doi)??""}`),J(U,(A(n()),C(()=>n().doi)))}),E(I,$)};Z(Ie,I=>{A(n()),C(()=>n().doi)&&I(gi)})}var mi=S(Ie,2);{var vi=I=>{var $=Mr(),R=S(w($),2),U=w(R,!0);y(R),y($),q(()=>{ue(R,"href",(A(n()),C(()=>n().url))),J(U,(A(n()),C(()=>n().url)))}),E(I,$)};Z(mi,I=>{A(n()),C(()=>n().url)&&I(vi)})}y(Pe),y(Oe),y(rt);var xi=S(rt,2);{var yi=I=>{var $=Ar(),R=S(w($),2);ke(R,5,()=>(A(n()),C(()=>n().keywords)),be,(U,$t)=>{var ne=jr(),wi=w(ne,!0);y(ne),q(()=>J(wi,K($t))),E(U,ne)}),y(R),y($),E(I,$)};Z(xi,I=>{A(n()),C(()=>n().keywords.length>0)&&I(yi)})}y(d),q((I,$,R)=>{P=_t(_,1,"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium",null,P,I),J(T,$),J(B,(A(n()),C(()=>n().year))),J(L,(A(n()),C(()=>n().title))),J(Q,R)},[()=>({"bg-primary-100":n().conference==="AH","text-primary-800":n().conference==="AH","bg-purple-100":n().conference==="AHS","text-purple-800":n().conference==="AHS","dark:bg-primary-900":n().conference==="AH","dark:text-primary-200":n().conference==="AH","dark:bg-purple-900":n().conference==="AHS","dark:text-purple-200":n().conference==="AHS"}),()=>(A(n()),C(()=>n().conferenceYear||`${n().conference} '${n().year.toString().slice(-2)}`)),()=>(A(n()),C(()=>o(n().authors)))]),E(m,d)};Z(g,m=>{n()&&m(c)})}E(a,u)},$$slots:{default:!0,header:(a,f)=>{var u=Cr();E(a,u)},footer:(a,f)=>{var u=Br(),g=w(u),c=S(w(g));y(g);var m=S(g,2),d=w(m),p=S(d,2);{var x=v=>{var _=zr();lt("click",_,l),E(v,_)};Z(p,v=>{K(e)&&v(x)})}y(m),y(u),q(()=>J(c,` Paper ID: ${A(n()),C(()=>n()?.id)??""}`)),lt("click",d,h),E(a,u)}}}),ee()}export{Vr as P,Rr as S,Nr as a,Ot as b,xe as l,qi as p,Tt as s};
